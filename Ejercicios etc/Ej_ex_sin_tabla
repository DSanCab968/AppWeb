<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a</title>
    
</head>
<body>

    <?php 


        /*
        A teacher recorded the marks (integers between 1 and 10) got by
        her 20 students (named like this: Fernández Gil, María) in a
        project, a class activity and an exam. Write a script to deliver a
        table to show the students’ term marks bearing in mind that:
        ●
        ●
        The students’ names will appear like this: María Fernández Gil.
        (Use a function to get this change)
        The class activity was 15% of the final mark, the project was 35%
        and the exam was 50%.
        */


        #array con estudiantes y notas random

        $estudiantes = [
            ["Fernández Gil, María", 8, 7, 9],
            ["López Ruiz, Antonio", 6, 5, 7],
            ["Sánchez Díaz, Lucía", 9, 8, 10],
            ["Martín Torres, Pedro", 5, 6, 6],
            ["Gómez Pérez, Laura", 10, 9, 10],
            ["Ramírez Soto, José", 7, 8, 8],
            ["Moreno Rivas, Ana", 9, 7, 8],
            ["Navarro Cruz, Javier", 6, 5, 6],
            ["Vargas León, Carmen", 8, 9, 9],
            ["Iglesias Mora, Sara", 7, 6, 7],
            ["Domínguez Gil, Pablo", 6, 6, 8],
            ["Prieto Lázaro, Elena", 9, 8, 10],
            ["Hernández Ruiz, Marcos", 5, 7, 6],
            ["García Salas, Laura", 10, 10, 10],
            ["Suárez Campos, David", 7, 8, 7],
            ["Blanco Pérez, Lucía", 8, 7, 9],
            ["Ortega Gómez, Raúl", 6, 6, 7],
            ["Delgado Martín, Alba", 9, 9, 10],
            ["Cabrera Ortiz, Carlos", 7, 6, 7],
            ["Reyes Torres, Julia", 8, 8, 9]
        ];

        #funcion para cambiar formato del nombre
        #explode para separar por comas y asi tengo un array

        #sin tabla

        function formatName($nombreFull){

            $nomArr = explode(", ",$nombreFull);
            $nombre = $nomArr[1];
            $apellidos = $nomArr[0];
            $nomComp = $nombre ." ".$apellidos;

            return($nomComp);

        }

        foreach ($estudiantes as $alumno) {
        $nombre = formatName($alumno[0]);
        $proyecto = $alumno[1];
        $actividad = $alumno[2];
        $examen = $alumno[3];
        $notaFinal = ($proyecto*0.35)+($actividad*0.15)+($examen*0.5);

        echo "<p>Alumno: ",$nombre," | Proyecto:  ",$proyecto," | Actividad: ",$actividad," | Examen: ",$examen," | Nota Final: ",$notaFinal,"</p>";
    
        }


    ?>

</body>
</html>